
from ast import parse
from os import makedirs as mkdir
from os.path import dirname, exists, join
from sys import argv
from astunparse import dump
from postprocessor import *
from utils import log, setup
from utils.options import Options
from utils.unparser import Unparser
from transpiler import Transpiler

def main():
    fpath = argv[1]
    with open(fpath, 'r') as f:
        data = f.read()
    path_parts = fpath.split('.')
    out_path = join('dist', (''.join(path_parts[(- 1)]) + '.py'))
    out_dir = dirname(out_path)
    if (not exists(out_dir)):mkdir(out_dir)
    with open(out_path, 'w') as f:f.write(code)
